!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=4)}([function(t,n,e){(function(t,e){var r;!function(){var i="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this||{},o=i._,a=Array.prototype,u=Object.prototype,s="undefined"!=typeof Symbol?Symbol.prototype:null,c=a.push,l=a.slice,f=u.toString,h=u.hasOwnProperty,d=Array.isArray,p=Object.keys,v=Object.create,g=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};n.nodeType?i._=y:(!e.nodeType&&e.exports&&(n=e.exports=y),n._=y),y.VERSION="1.9.1";var m,k=function(t,n,e){if(void 0===n)return t;switch(null==e?3:e){case 1:return function(e){return t.call(n,e)};case 3:return function(e,r,i){return t.call(n,e,r,i)};case 4:return function(e,r,i,o){return t.call(n,e,r,i,o)}}return function(){return t.apply(n,arguments)}},b=function(t,n,e){return y.iteratee!==m?y.iteratee(t,n):null==t?y.identity:y.isFunction(t)?k(t,n,e):y.isObject(t)&&!y.isArray(t)?y.matcher(t):y.property(t)};y.iteratee=m=function(t,n){return b(t,n,1/0)};var x=function(t,n){return n=null==n?t.length-1:+n,function(){for(var e=Math.max(arguments.length-n,0),r=Array(e),i=0;i<e;i++)r[i]=arguments[i+n];switch(n){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(n+1);for(i=0;i<n;i++)o[i]=arguments[i];return o[n]=r,t.apply(this,o)}},w=function(t){if(!y.isObject(t))return{};if(v)return v(t);g.prototype=t;var n=new g;return g.prototype=null,n},S=function(t){return function(n){return null==n?void 0:n[t]}},j=function(t,n){return null!=t&&h.call(t,n)},O=function(t,n){for(var e=n.length,r=0;r<e;r++){if(null==t)return;t=t[n[r]]}return e?t:void 0},_=Math.pow(2,53)-1,A=S("length"),M=function(t){var n=A(t);return"number"==typeof n&&n>=0&&n<=_};y.each=y.forEach=function(t,n,e){var r,i;if(n=k(n,e),M(t))for(r=0,i=t.length;r<i;r++)n(t[r],r,t);else{var o=y.keys(t);for(r=0,i=o.length;r<i;r++)n(t[o[r]],o[r],t)}return t},y.map=y.collect=function(t,n,e){n=b(n,e);for(var r=!M(t)&&y.keys(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var u=r?r[a]:a;o[a]=n(t[u],u,t)}return o};var F=function(t){return function(n,e,r,i){var o=arguments.length>=3;return function(n,e,r,i){var o=!M(n)&&y.keys(n),a=(o||n).length,u=t>0?0:a-1;for(i||(r=n[o?o[u]:u],u+=t);u>=0&&u<a;u+=t){var s=o?o[u]:u;r=e(r,n[s],s,n)}return r}(n,k(e,i,4),r,o)}};y.reduce=y.foldl=y.inject=F(1),y.reduceRight=y.foldr=F(-1),y.find=y.detect=function(t,n,e){var r=(M(t)?y.findIndex:y.findKey)(t,n,e);if(void 0!==r&&-1!==r)return t[r]},y.filter=y.select=function(t,n,e){var r=[];return n=b(n,e),y.each(t,function(t,e,i){n(t,e,i)&&r.push(t)}),r},y.reject=function(t,n,e){return y.filter(t,y.negate(b(n)),e)},y.every=y.all=function(t,n,e){n=b(n,e);for(var r=!M(t)&&y.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!n(t[a],a,t))return!1}return!0},y.some=y.any=function(t,n,e){n=b(n,e);for(var r=!M(t)&&y.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(n(t[a],a,t))return!0}return!1},y.contains=y.includes=y.include=function(t,n,e,r){return M(t)||(t=y.values(t)),("number"!=typeof e||r)&&(e=0),y.indexOf(t,n,e)>=0},y.invoke=x(function(t,n,e){var r,i;return y.isFunction(n)?i=n:y.isArray(n)&&(r=n.slice(0,-1),n=n[n.length-1]),y.map(t,function(t){var o=i;if(!o){if(r&&r.length&&(t=O(t,r)),null==t)return;o=t[n]}return null==o?o:o.apply(t,e)})}),y.pluck=function(t,n){return y.map(t,y.property(n))},y.where=function(t,n){return y.filter(t,y.matcher(n))},y.findWhere=function(t,n){return y.find(t,y.matcher(n))},y.max=function(t,n,e){var r,i,o=-1/0,a=-1/0;if(null==n||"number"==typeof n&&"object"!=typeof t[0]&&null!=t)for(var u=0,s=(t=M(t)?t:y.values(t)).length;u<s;u++)null!=(r=t[u])&&r>o&&(o=r);else n=b(n,e),y.each(t,function(t,e,r){((i=n(t,e,r))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)});return o},y.min=function(t,n,e){var r,i,o=1/0,a=1/0;if(null==n||"number"==typeof n&&"object"!=typeof t[0]&&null!=t)for(var u=0,s=(t=M(t)?t:y.values(t)).length;u<s;u++)null!=(r=t[u])&&r<o&&(o=r);else n=b(n,e),y.each(t,function(t,e,r){((i=n(t,e,r))<a||i===1/0&&o===1/0)&&(o=t,a=i)});return o},y.shuffle=function(t){return y.sample(t,1/0)},y.sample=function(t,n,e){if(null==n||e)return M(t)||(t=y.values(t)),t[y.random(t.length-1)];var r=M(t)?y.clone(t):y.values(t),i=A(r);n=Math.max(Math.min(n,i),0);for(var o=i-1,a=0;a<n;a++){var u=y.random(a,o),s=r[a];r[a]=r[u],r[u]=s}return r.slice(0,n)},y.sortBy=function(t,n,e){var r=0;return n=b(n,e),y.pluck(y.map(t,function(t,e,i){return{value:t,index:r++,criteria:n(t,e,i)}}).sort(function(t,n){var e=t.criteria,r=n.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(e<r||void 0===r)return-1}return t.index-n.index}),"value")};var H=function(t,n){return function(e,r,i){var o=n?[[],[]]:{};return r=b(r,i),y.each(e,function(n,i){var a=r(n,i,e);t(o,n,a)}),o}};y.groupBy=H(function(t,n,e){j(t,e)?t[e].push(n):t[e]=[n]}),y.indexBy=H(function(t,n,e){t[e]=n}),y.countBy=H(function(t,n,e){j(t,e)?t[e]++:t[e]=1});var z=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;y.toArray=function(t){return t?y.isArray(t)?l.call(t):y.isString(t)?t.match(z):M(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:M(t)?t.length:y.keys(t).length},y.partition=H(function(t,n,e){t[e?0:1].push(n)},!0),y.first=y.head=y.take=function(t,n,e){return null==t||t.length<1?null==n?void 0:[]:null==n||e?t[0]:y.initial(t,t.length-n)},y.initial=function(t,n,e){return l.call(t,0,Math.max(0,t.length-(null==n||e?1:n)))},y.last=function(t,n,e){return null==t||t.length<1?null==n?void 0:[]:null==n||e?t[t.length-1]:y.rest(t,Math.max(0,t.length-n))},y.rest=y.tail=y.drop=function(t,n,e){return l.call(t,null==n||e?1:n)},y.compact=function(t){return y.filter(t,Boolean)};var B=function(t,n,e,r){for(var i=(r=r||[]).length,o=0,a=A(t);o<a;o++){var u=t[o];if(M(u)&&(y.isArray(u)||y.isArguments(u)))if(n)for(var s=0,c=u.length;s<c;)r[i++]=u[s++];else B(u,n,e,r),i=r.length;else e||(r[i++]=u)}return r};y.flatten=function(t,n){return B(t,n,!1)},y.without=x(function(t,n){return y.difference(t,n)}),y.uniq=y.unique=function(t,n,e,r){y.isBoolean(n)||(r=e,e=n,n=!1),null!=e&&(e=b(e,r));for(var i=[],o=[],a=0,u=A(t);a<u;a++){var s=t[a],c=e?e(s,a,t):s;n&&!e?(a&&o===c||i.push(s),o=c):e?y.contains(o,c)||(o.push(c),i.push(s)):y.contains(i,s)||i.push(s)}return i},y.union=x(function(t){return y.uniq(B(t,!0,!0))}),y.intersection=function(t){for(var n=[],e=arguments.length,r=0,i=A(t);r<i;r++){var o=t[r];if(!y.contains(n,o)){var a;for(a=1;a<e&&y.contains(arguments[a],o);a++);a===e&&n.push(o)}}return n},y.difference=x(function(t,n){return n=B(n,!0,!0),y.filter(t,function(t){return!y.contains(n,t)})}),y.unzip=function(t){for(var n=t&&y.max(t,A).length||0,e=Array(n),r=0;r<n;r++)e[r]=y.pluck(t,r);return e},y.zip=x(y.unzip),y.object=function(t,n){for(var e={},r=0,i=A(t);r<i;r++)n?e[t[r]]=n[r]:e[t[r][0]]=t[r][1];return e};var E=function(t){return function(n,e,r){e=b(e,r);for(var i=A(n),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(e(n[o],o,n))return o;return-1}};y.findIndex=E(1),y.findLastIndex=E(-1),y.sortedIndex=function(t,n,e,r){for(var i=(e=b(e,r,1))(n),o=0,a=A(t);o<a;){var u=Math.floor((o+a)/2);e(t[u])<i?o=u+1:a=u}return o};var C=function(t,n,e){return function(r,i,o){var a=0,u=A(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+u,a):u=o>=0?Math.min(o+1,u):o+u+1;else if(e&&o&&u)return r[o=e(r,i)]===i?o:-1;if(i!=i)return(o=n(l.call(r,a,u),y.isNaN))>=0?o+a:-1;for(o=t>0?a:u-1;o>=0&&o<u;o+=t)if(r[o]===i)return o;return-1}};y.indexOf=C(1,y.findIndex,y.sortedIndex),y.lastIndexOf=C(-1,y.findLastIndex),y.range=function(t,n,e){null==n&&(n=t||0,t=0),e||(e=n<t?-1:1);for(var r=Math.max(Math.ceil((n-t)/e),0),i=Array(r),o=0;o<r;o++,t+=e)i[o]=t;return i},y.chunk=function(t,n){if(null==n||n<1)return[];for(var e=[],r=0,i=t.length;r<i;)e.push(l.call(t,r,r+=n));return e};var I=function(t,n,e,r,i){if(!(r instanceof n))return t.apply(e,i);var o=w(t.prototype),a=t.apply(o,i);return y.isObject(a)?a:o};y.bind=x(function(t,n,e){if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var r=x(function(i){return I(t,r,n,this,e.concat(i))});return r}),y.partial=x(function(t,n){var e=y.partial.placeholder,r=function(){for(var i=0,o=n.length,a=Array(o),u=0;u<o;u++)a[u]=n[u]===e?arguments[i++]:n[u];for(;i<arguments.length;)a.push(arguments[i++]);return I(t,r,this,this,a)};return r}),y.partial.placeholder=y,y.bindAll=x(function(t,n){var e=(n=B(n,!1,!1)).length;if(e<1)throw new Error("bindAll must be passed function names");for(;e--;){var r=n[e];t[r]=y.bind(t[r],t)}}),y.memoize=function(t,n){var e=function(r){var i=e.cache,o=""+(n?n.apply(this,arguments):r);return j(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return e.cache={},e},y.delay=x(function(t,n,e){return setTimeout(function(){return t.apply(null,e)},n)}),y.defer=y.partial(y.delay,y,1),y.throttle=function(t,n,e){var r,i,o,a,u=0;e||(e={});var s=function(){u=!1===e.leading?0:y.now(),r=null,a=t.apply(i,o),r||(i=o=null)},c=function(){var c=y.now();u||!1!==e.leading||(u=c);var l=n-(c-u);return i=this,o=arguments,l<=0||l>n?(r&&(clearTimeout(r),r=null),u=c,a=t.apply(i,o),r||(i=o=null)):r||!1===e.trailing||(r=setTimeout(s,l)),a};return c.cancel=function(){clearTimeout(r),u=0,r=i=o=null},c},y.debounce=function(t,n,e){var r,i,o=function(n,e){r=null,e&&(i=t.apply(n,e))},a=x(function(a){if(r&&clearTimeout(r),e){var u=!r;r=setTimeout(o,n),u&&(i=t.apply(this,a))}else r=y.delay(o,n,this,a);return i});return a.cancel=function(){clearTimeout(r),r=null},a},y.wrap=function(t,n){return y.partial(n,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,n=t.length-1;return function(){for(var e=n,r=t[n].apply(this,arguments);e--;)r=t[e].call(this,r);return r}},y.after=function(t,n){return function(){if(--t<1)return n.apply(this,arguments)}},y.before=function(t,n){var e;return function(){return--t>0&&(e=n.apply(this,arguments)),t<=1&&(n=null),e}},y.once=y.partial(y.before,2),y.restArguments=x;var D=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],R=function(t,n){var e=L.length,r=t.constructor,i=y.isFunction(r)&&r.prototype||u,o="constructor";for(j(t,o)&&!y.contains(n,o)&&n.push(o);e--;)(o=L[e])in t&&t[o]!==i[o]&&!y.contains(n,o)&&n.push(o)};y.keys=function(t){if(!y.isObject(t))return[];if(p)return p(t);var n=[];for(var e in t)j(t,e)&&n.push(e);return D&&R(t,n),n},y.allKeys=function(t){if(!y.isObject(t))return[];var n=[];for(var e in t)n.push(e);return D&&R(t,n),n},y.values=function(t){for(var n=y.keys(t),e=n.length,r=Array(e),i=0;i<e;i++)r[i]=t[n[i]];return r},y.mapObject=function(t,n,e){n=b(n,e);for(var r=y.keys(t),i=r.length,o={},a=0;a<i;a++){var u=r[a];o[u]=n(t[u],u,t)}return o},y.pairs=function(t){for(var n=y.keys(t),e=n.length,r=Array(e),i=0;i<e;i++)r[i]=[n[i],t[n[i]]];return r},y.invert=function(t){for(var n={},e=y.keys(t),r=0,i=e.length;r<i;r++)n[t[e[r]]]=e[r];return n},y.functions=y.methods=function(t){var n=[];for(var e in t)y.isFunction(t[e])&&n.push(e);return n.sort()};var T=function(t,n){return function(e){var r=arguments.length;if(n&&(e=Object(e)),r<2||null==e)return e;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),u=a.length,s=0;s<u;s++){var c=a[s];n&&void 0!==e[c]||(e[c]=o[c])}return e}};y.extend=T(y.allKeys),y.extendOwn=y.assign=T(y.keys),y.findKey=function(t,n,e){n=b(n,e);for(var r,i=y.keys(t),o=0,a=i.length;o<a;o++)if(n(t[r=i[o]],r,t))return r};var N,P,W=function(t,n,e){return n in e};y.pick=x(function(t,n){var e={},r=n[0];if(null==t)return e;y.isFunction(r)?(n.length>1&&(r=k(r,n[1])),n=y.allKeys(t)):(r=W,n=B(n,!1,!1),t=Object(t));for(var i=0,o=n.length;i<o;i++){var a=n[i],u=t[a];r(u,a,t)&&(e[a]=u)}return e}),y.omit=x(function(t,n){var e,r=n[0];return y.isFunction(r)?(r=y.negate(r),n.length>1&&(e=n[1])):(n=y.map(B(n,!1,!1),String),r=function(t,e){return!y.contains(n,e)}),y.pick(t,r,e)}),y.defaults=T(y.allKeys,!0),y.create=function(t,n){var e=w(t);return n&&y.extendOwn(e,n),e},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,n){return n(t),t},y.isMatch=function(t,n){var e=y.keys(n),r=e.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=e[o];if(n[a]!==i[a]||!(a in i))return!1}return!0},N=function(t,n,e,r){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var i=typeof t;return("function"===i||"object"===i||"object"==typeof n)&&P(t,n,e,r)},P=function(t,n,e,r){t instanceof y&&(t=t._wrapped),n instanceof y&&(n=n._wrapped);var i=f.call(t);if(i!==f.call(n))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return s.valueOf.call(t)===s.valueOf.call(n)}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof n)return!1;var a=t.constructor,u=n.constructor;if(a!==u&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(u)&&u instanceof u)&&"constructor"in t&&"constructor"in n)return!1}e=e||[],r=r||[];for(var c=e.length;c--;)if(e[c]===t)return r[c]===n;if(e.push(t),r.push(n),o){if((c=t.length)!==n.length)return!1;for(;c--;)if(!N(t[c],n[c],e,r))return!1}else{var l,h=y.keys(t);if(c=h.length,y.keys(n).length!==c)return!1;for(;c--;)if(l=h[c],!j(n,l)||!N(t[l],n[l],e,r))return!1}return e.pop(),r.pop(),!0},y.isEqual=function(t,n){return N(t,n)},y.isEmpty=function(t){return null==t||(M(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=d||function(t){return"[object Array]"===f.call(t)},y.isObject=function(t){var n=typeof t;return"function"===n||"object"===n&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){y["is"+t]=function(n){return f.call(n)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return j(t,"callee")});var q=i.document&&i.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof q&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return!y.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&isNaN(t)},y.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,n){if(!y.isArray(n))return j(t,n);for(var e=n.length,r=0;r<e;r++){var i=n[r];if(null==t||!h.call(t,i))return!1;t=t[i]}return!!e},y.noConflict=function(){return i._=o,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=function(t){return y.isArray(t)?function(n){return O(n,t)}:S(t)},y.propertyOf=function(t){return null==t?function(){}:function(n){return y.isArray(n)?O(t,n):t[n]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(n){return y.isMatch(n,t)}},y.times=function(t,n,e){var r=Array(Math.max(0,t));n=k(n,e,1);for(var i=0;i<t;i++)r[i]=n(i);return r},y.random=function(t,n){return null==n&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var K={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},$=y.invert(K),G=function(t){var n=function(n){return t[n]},e="(?:"+y.keys(t).join("|")+")",r=RegExp(e),i=RegExp(e,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,n):t}};y.escape=G(K),y.unescape=G($),y.result=function(t,n,e){y.isArray(n)||(n=[n]);var r=n.length;if(!r)return y.isFunction(e)?e.call(t):e;for(var i=0;i<r;i++){var o=null==t?void 0:t[n[i]];void 0===o&&(o=e,i=r),t=y.isFunction(o)?o.call(t):o}return t};var U=0;y.uniqueId=function(t){var n=++U+"";return t?t+n:n},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Q=/\\|'|\r|\n|\u2028|\u2029/g,X=function(t){return"\\"+V[t]};y.template=function(t,n,e){!n&&e&&(n=e),n=y.defaults({},n,y.templateSettings);var r,i=RegExp([(n.escape||J).source,(n.interpolate||J).source,(n.evaluate||J).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(i,function(n,e,r,i,u){return a+=t.slice(o,u).replace(Q,X),o=u+n.length,e?a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),n}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(t){throw t.source=a,t}var u=function(t){return r.call(this,t,y)},s=n.variable||"obj";return u.source="function("+s+"){\n"+a+"}",u},y.chain=function(t){var n=y(t);return n._chain=!0,n};var Y=function(t,n){return t._chain?y(n).chain():n};y.mixin=function(t){return y.each(y.functions(t),function(n){var e=y[n]=t[n];y.prototype[n]=function(){var t=[this._wrapped];return c.apply(t,arguments),Y(this,e.apply(y,t))}}),y},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=a[t];y.prototype[t]=function(){var e=this._wrapped;return n.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0],Y(this,e)}}),y.each(["concat","join","slice"],function(t){var n=a[t];y.prototype[t]=function(){return Y(this,n.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return String(this._wrapped)},void 0===(r=function(){return y}.apply(n,[]))||(e.exports=r)}()}).call(this,e(2),e(3)(t))},function(t,n,e){t.exports=e.p+"index.css"},function(t,n){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n,e){"use strict";e.r(n);e(1);var r=e(0),i=e.n(r);class o{constructor({ctx:t,canvas:n,gridSize:e,style:r,updateScore:i,food:o}){this.ctx=t,this.canvas=n,this.gridSize=e,this.style=r,this.updateScore=i,this.food=o,this.snakeBodyCells=[{x:150,y:150},{x:180,y:150}],this.snakeHead={x:210,y:150},this.direction="right",this.nextMove=void 0}drawSnake(){[...this.snakeBodyCells,this.snakeHead].forEach(t=>{this.ctx.fillStyle=this.style.snakeColor,this.ctx.fillRect(t.x,t.y,this.gridSize,this.gridSize)})}newSnakeHead(t){switch(t){case"right":return Object.assign({},this.snakeHead,{x:this.snakeHead.x+this.gridSize});case"left":return Object.assign({},this.snakeHead,{x:this.snakeHead.x-this.gridSize});case"up":return Object.assign({},this.snakeHead,{y:this.snakeHead.y-this.gridSize});case"down":return Object.assign({},this.snakeHead,{y:this.snakeHead.y+this.gridSize})}}setNextMove(t){this.nextMove=t}updateSnake(){this.nextMove?i.a.isEqual(this.getNextHeadLocation(this.nextMove),this.food.getFoodLocation())?(this.eat(this.nextMove),this.food.eatFood(),this.updateScore()):(this.move(this.nextMove),this.nextMove=void 0):i.a.isEqual(this.getNextHeadLocation(),this.food.getFoodLocation())?(this.eat(),this.food.eatFood(),this.updateScore()):this.move()}getNextHeadLocation(t=this.getDirection()){return this.newSnakeHead(t)}getDirection(){return this.direction}setDirection(t){this.direction=t}move(t=this.getDirection()){this.snakeBodyCells.push(this.snakeHead),this.snakeBodyCells.shift(),this.snakeHead=this.newSnakeHead(t),this.direction=t}eat(t=this.getDirection()){this.snakeBodyCells.push(this.snakeHead),this.snakeHead=this.newSnakeHead(t),this.direction=t}getSnakeCells(){return[...this.snakeBodyCells,this.snakeHead]}collideWithBorder(){const t=this.canvas.width-this.gridSize,n=this.canvas.height-this.gridSize;return this.snakeHead.x>t||this.snakeHead.x<0||this.snakeHead.y>n||this.snakeHead.y<0}collideWithSelf(){return this.snakeBodyCells.filter(t=>i.a.isEqual(t,this.snakeHead)).length>0}}class a{constructor({ctx:t,canvas:n,gridSize:e,style:r,snake:i}){this.ctx=t,this.canvasSize=n.width,this.gridSize=e,this.style=r,this.snake=i,this.location={}}getRandomLocation(){const t=Math.floor(Math.random()*this.canvasSize);return t-t%this.gridSize}generateFood(){this.location.x=this.getRandomLocation(),this.location.y=this.getRandomLocation()}drawFood(){this.location.x||this.location.y||this.generateFood(),this.ctx.fillStyle=this.style.foodColor,this.ctx.fillRect(this.location.x,this.location.y,this.gridSize,this.gridSize)}eatFood(){this.location={}}getFoodLocation(){return this.location}}document.getElementById("start-new-game").addEventListener("click",()=>{(new class{constructor(){this.canvas=document.getElementById("game-canvas"),this.highScoreOutput=document.getElementById("high-score"),this.scoreOutput=document.getElementById("score"),this.timerOutput=document.getElementById("timer"),this.levelOutput=document.getElementById("level"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=600,this.canvas.height=600,this.gridSize=30,this.highScore=window.localStorage.getItem("snake-high-score")||0,this.score=0,this.timeRemaining=30,this.level=1,this.animation={tickCount:0,ticksPerFrame:6},this.style={canvasBackgroundColor:"darkgrey",gridColor:"black",snakeColor:"green",foodColor:"black"},this.food=new a({ctx:this.ctx,canvas:this.canvas,gridSize:this.gridSize,style:this.style,snake:this.snake}),this.snake=new o({ctx:this.ctx,canvas:this.canvas,gridSize:this.gridSize,style:this.style,updateScore:this.updateScore.bind(this),food:this.food})}setControls(){window.addEventListener("keydown",t=>{switch(t.key){case"ArrowRight":"left"!==this.snake.getDirection()&&"right"!==this.snake.getDirection()&&this.snake.setDirection("right");break;case"ArrowLeft":"left"!==this.snake.getDirection()&&"right"!==this.snake.getDirection()&&this.snake.setDirection("left");break;case"ArrowUp":"up"!==this.snake.getDirection()&&"down"!==this.snake.getDirection()&&this.snake.setDirection("up");break;case"ArrowDown":"up"!==this.snake.getDirection()&&"down"!==this.snake.getDirection()&&this.snake.setDirection("down")}})}startNewGame(){this.setControls(),this.startCountdown(),this.run()}gameOver(){return this.snake.collideWithBorder()||this.snake.collideWithSelf()}drawGrid(){this.ctx.fillStyle=this.style.canvasBackgroundColor,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath();for(let t=0;t<=this.canvas.width;t+=this.gridSize)this.ctx.moveTo(t,0),this.ctx.lineTo(t,this.canvas.height);for(let t=0;t<=this.canvas.height;t+=this.gridSize)this.ctx.moveTo(0,t),this.ctx.lineTo(this.canvas.width,t);this.ctx.strokeStyle=this.style.gridColor,this.ctx.stroke()}updateLevel(){this.level++,this.animation.ticksPerFrame--}startCountdown(){setInterval(()=>{0!==this.timeRemaining?this.timeRemaining--:(this.timeRemaining=30,this.updateLevel())},1e3)}outputInfo(){this.highScoreOutput.innerHTML=`\n      ${this.highScore}\n    `,this.scoreOutput.innerHTML=`\n      ${this.score}\n    `,this.timerOutput.innerHTML=`\n      ${this.timeRemaining}\n    `,this.levelOutput.innerHTML=`\n      ${this.level}\n    `}updateScore(){this.highScore<this.score&&(window.localStorage.setItem("snake-high-score",this.score),this.highScore=this.score),this.score+=5*this.level}render(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawGrid(),this.snake.drawSnake(),this.food.drawFood(),this.outputInfo()}update(){this.animation.tickCount>this.animation.ticksPerFrame?this.gameOver()||(this.animation.tickCount=0,this.snake.updateSnake(),this.render()):this.animation.tickCount++}run(){this.update(),window.requestAnimationFrame(()=>{this.run()})}}).startNewGame(),document.getElementById("main-container").classList.remove("hidden")}),"serviceWorker"in navigator&&navigator.serviceWorker.register("ServiceWorker.js").then(()=>navigator.serviceWorker.ready).then(t=>{console.log("Registration success",t)}).catch(t=>{console.error("Registration error",t)})}]);